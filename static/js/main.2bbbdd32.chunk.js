(this["webpackJsonpthree-template"]=this["webpackJsonpthree-template"]||[]).push([[0],{19:function(e,t,i){},20:function(e,t,i){"use strict";i.r(t);var n=i(5),s=i(8),r=i.n(s),a=i(11),o=i.n(a),h=(i(19),i(7)),c=i(2),m=i(3),d=i(13),u=i(0),l=i(4),v=i(1),p=i(12),f=function(){function e(t){Object(u.a)(this,e),this.geometry=new v.k(1,1,1,300),this.m=t,this.m=new v.i({color:16711680*Math.random(),side:v.d}),t.wireframe=!0,this.width=1,this.mesh=new v.g(this.geometry,this.m),this.mesh.dynamic=!0,this.speed=1,this.travel=0,this.position=new v.t(0,0,0)}return Object(l.a)(e,[{key:"update",value:function(e,t){e*=.5,this.pp=Object(d.a)(this.geometry.attributes.position.array);for(var i=0;i<6;i++)this.pp.pop();this.nextPos=(new v.t).lerpVectors(this.position,t,.1),this.travel+=this.nextPos.distanceTo(this.position),this.position=this.nextPos;var n=[Math.sin(this.travel/5)*this.width/2,Math.cos(this.travel/5)*this.width/2];this.position.z=3*Math.sin(this.travel/5),this.pp.unshift(this.position.x+n[0],this.position.y+0*e,this.position.z+n[1]),this.pp.unshift(this.position.x-n[0],this.position.y+0*e,this.position.z-n[1]),this.geometry.attributes.position.array=new Float32Array(this.pp),this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeVertexNormals(),this.geometry.computeFaceNormals(),this.m.color=new v.b("hsl(".concat(200+100*Math.sin(4*e),",100%, 50%)"))}}]),e}(),b=function(e){Object(c.a)(i,e);var t=Object(m.a)(i);function i(e){var n;return Object(u.a)(this,i),(n=t.call(this,e)).setupResize=function(){window.addEventListener("resize",n.resize)},n.resize=function(){n.width=n.container.offsetWidth,n.height=n.container.offsetHeight,n.renderer.setSize(n.width,n.height),n.camera.aspect=n.width/n.height,console.log("resize"),n.imageAspect=853/1280,n.camera.updateProjectionMatrix(),console.log(n.camera)},n.start=n.start.bind(Object(h.a)(n)),n.stop=n.stop.bind(Object(h.a)(n)),n.animate=n.animate.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.scene=new v.o,this.renderer=new v.v({antialias:!0}),this.width=this.mount.clientWidth,this.height=this.mount.clientHeight,this.renderer.setClearColor(15658734,1),this.renderer.setSize(this.width,this.height),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=v.w,this.mouse=new v.s,this.target=new v.t(0,0,0),this.raycaster=new v.n,this.container=document.getElementById("scene"),this.mount.appendChild(this.renderer.domElement),this.camera=new v.j(75,this.width/this.height,.001,1e3),this.camera.position.set(0,0,15),this.controls=new p.a(this.camera,this.renderer.domElement),this.time=0,this.setupResize(),this.addObjects(),this.animate(),this.lighting(),this.mouseEvents(),this.resize()}},{key:"mouseEvents",value:function(){var e=this;this.touchme=new v.g(new v.l(40,40,20,20),new v.h({color:0,wireframe:!0})),this.container.addEventListener("mousemove",(function(t){e.mouse.x=t.clientX/window.innerWidth*2-1,e.mouse.y=-t.clientY/window.innerHeight*2+1,e.raycaster.setFromCamera(e.mouse,e.camera);var i=e.raycaster.intersectObjects([e.touchme]);e.target=i[0].point}),!1)}},{key:"lighting",value:function(){var e;(e=new v.c(16777215,1)).position.set(1,1,1),this.scene.add(e),(e=new v.c(16777215,.5)).position.set(-1,-1,-1),this.scene.add(e);var t=new v.a(4210752);this.scene.add(t)}},{key:"addObjects",value:function(){this.material=new v.p({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:v.d,uniforms:{time:{type:"f",value:0},resolution:{type:"v4",value:new v.u},uvRate1:{value:new v.s(1,1)}},vertexShader:"\nattribute vec3 color;\nvarying vec2 vUv;\n\n  void main() {\n    vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n",fragmentShader:"\n\nuniform float time;\nuniform float progress;\nuniform sampler2D texture1;\nuniform vec4 resolution;\n\nvarying vec2 vUv;\nvarying vec3 vPosition;\nfloat PI = 3.141592653589793238;\nvoid main(){\n  gl_FragColor = vec4(vUv,0.0,1.);\n  gl_FragColor = vec4(0.,0.,0.,1.);\n\n}\n"}),this.ribbons=[];for(var e=0;e<1;e++){var t=new f(this.material);this.scene.add(t.mesh),this.ribbons.push(t)}}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){var e=this;this.time+=.05,this.material.uniforms.time.value=this.time,this.frameId=requestAnimationFrame(this.animate),this.renderScene(),this.ribbons.forEach((function(t){t.update(e.time,e.target)}))}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{id:"scene",ref:function(t){e.mount=t}})}}]),i}(s.Component);var g=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"frame",children:[Object(n.jsx)("h1",{className:"frame__title",children:"Ribbons"}),Object(n.jsx)("div",{className:"frame__links"}),Object(n.jsxs)("div",{className:"frame__nav",children:[Object(n.jsx)("a",{className:"frame__link",href:"https://isengupt.github.io/cubic-move-react/",children:"Previous"}),Object(n.jsx)("a",{className:"frame__link",href:"#",children:"Resume"}),Object(n.jsx)("a",{className:"frame__link",href:"https://github.com/isengupt/ribbons/",children:"GitHub"})]})]}),Object(n.jsx)(b,{})]})};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.2bbbdd32.chunk.js.map